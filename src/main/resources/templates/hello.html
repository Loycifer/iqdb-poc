<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" href="style.css">
    <title>Getting Started: Serving Web Content</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>
<p th:text="|Hello, ${name}!|"/>

Feeling down?
Need a quote that inspires?
I got you.
I got you, fam.
Here they come.

[QUOTE]
Inspirational/Unspirational
<div id="toggle-container">
    <label class="toggle">
        <input type="checkbox" id="auto-advance-toggle">
        <span class="slider"></span>
    </label><span id="auto-advance-text">Auto-advance <span id="toggle-indicator-text">off</span></span>
</div>
<div id="quoteContainer">

</div>
</body>
</html>

<script>
    console.log("HI")
    document.getElementById("auto-advance-toggle").addEventListener("change", handleToggleClick);

    const alreadySeen = [];

    function handleToggleClick() {
        if (this.checked) {
            document.getElementById("toggle-indicator-text").innerText = "on";
            getData(alreadySeen);
        } else {
            document.getElementById("toggle-indicator-text").innerText = "off";
            getData(alreadySeen);
        }
    }


    async function getData(alreadySeen) {
        const url = "/inspirational-quote/random";
        try {
            const response = await fetch(url, {
                method: 'POST',
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({"alreadySeen": alreadySeen})
            });
            if (!response.ok) {
                throw new Error(`Response status: ${response.status}`);
            }
            const status = response.status;


            if (status === 200) {
                const json = await response.json();
                console.log(json);
                alreadySeen.push(json.id);
            }

        } catch (error) {
            console.error(error.message);
        }
    }

</script>